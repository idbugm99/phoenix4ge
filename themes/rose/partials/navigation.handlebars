<nav class="rose-nav">
    <div class="rose-nav-container">
        <a href="/{{modelSlug}}{{previewParam}}" class="rose-logo">
            {{siteName}}
        </a>

        <!-- Desktop Navigation -->
        <div class="desktop-nav" style="display: none;">
            {{#each navigation}}
            <a href="{{this.url}}" class="nav-link {{#if this.active}}active{{/if}}">
                {{this.name}}
            </a>
            {{/each}}
        </div>

        <!-- Mobile menu button -->
        <div class="mobile-menu-btn" style="display: none;">
            <button type="button" id="mobile-menu-button">
                <i class="fas fa-bars" id="menu-icon"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div id="mobile-menu" style="display: none;">
        {{#each navigation}}
        <a href="{{this.url}}" class="nav-link {{#if this.active}}active{{/if}}">
            {{this.name}}
        </a>
        {{/each}}
    </div>
</nav>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuBtn = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const desktopNav = document.querySelector('.desktop-nav');
    const menuIcon = document.getElementById('menu-icon');
    const mobileMenuBtnContainer = document.querySelector('.mobile-menu-btn');

    function handleResize() {
        if (window.innerWidth <= 768) {
            mobileMenuBtnContainer.style.display = 'block';
            desktopNav.style.display = 'none';
            mobileMenu.style.display = 'none';
            menuIcon.className = 'fas fa-bars';
        } else {
            mobileMenuBtnContainer.style.display = 'none';
            desktopNav.style.display = 'flex';
            mobileMenu.style.display = 'none';
        }
    }

    mobileMenuBtn?.addEventListener('click', function() {
        if (mobileMenu.style.display === 'none' || !mobileMenu.style.display) {
            mobileMenu.style.display = 'block';
            menuIcon.className = 'fas fa-times';
        } else {
            mobileMenu.style.display = 'none';
            menuIcon.className = 'fas fa-bars';
        }
    });

    window.addEventListener('resize', handleResize);
    handleResize();
});
</script>

<style>
/* Rose Theme Navigation */
.rose-nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 50;
    background: color-mix(in srgb, var(--theme-surface) 95%, transparent 5%);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--theme-border-muted);
}

.rose-nav-container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 1rem 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.rose-logo {
    font-size: 1.25rem;
    font-weight: bold;
    color: var(--theme-primary);
    text-decoration: none;
}

.desktop-nav {
    gap: 2rem;
    align-items: center;
}

.desktop-nav .nav-link {
    color: var(--theme-text);
    text-decoration: none;
    padding: 0.5rem 1rem;
    transition: all 0.3s;
}

.desktop-nav .nav-link:hover,
.desktop-nav .nav-link.active {
    color: var(--theme-primary);
}

.mobile-menu-btn button {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--theme-primary);
    cursor: pointer;
    padding: 0.5rem;
}

#mobile-menu {
    background: var(--theme-surface);
    border-top: 1px solid var(--theme-border);
    padding: 1rem;
}

#mobile-menu .nav-link {
    display: block;
    padding: 0.75rem 1.5rem;
    color: var(--theme-text);
    text-decoration: none;
    transition: all 0.3s;
}

#mobile-menu .nav-link:hover,
#mobile-menu .nav-link.active {
    background: var(--theme-overlay);
    color: var(--theme-primary);
}
</style>