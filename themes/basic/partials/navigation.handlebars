<!-- Basic Theme Navigation -->
<nav class="basic-nav fixed top-0 left-0 right-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
            <!-- Logo/Brand -->
            <div class="flex items-center">
                <a href="/{{modelSlug}}{{previewParam}}" class="text-xl font-semibold transition-colors text-inverse">
                    {{siteName}}
                </a>
            </div>
            
            <!-- Desktop Menu -->
            <div class="desktop-menu" style="display: none; align-items: center; gap: 0.25rem;">
                {{#each navigation}}
                <a href="{{this.url}}"
                   class="basic-nav-link rounded {{#if this.active}}active{{/if}}">
                    {{this.name}}
                </a>
                {{/each}}
            </div>

            <!-- Mobile Menu Button -->
            <button type="button"
                    id="mobile-menu-button"
                    class="mobile-menu-btn"
                    style="display: none; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;"
                    aria-controls="mobile-menu"
                    aria-label="Toggle menu">
                <i id="mobile-menu-icon" class="fas fa-bars"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="rounded transition-colors" style="display: none; background-color: var(--primary-hover);">
        <div class="px-2 pt-2 pb-3 space-y-1">
            {{#each navigation}}
            <a href="{{this.url}}"
               class="block px-3 py-2 rounded transition-colors text-inverse {{#if this.active}}{{/if}}"
               style="{{#if this.active}}background: color-mix(in srgb, var(--text-inverse) 25%, transparent 75%);{{/if}}"
               onmouseover="this.style.background='color-mix(in srgb, var(--text-inverse) 15%, transparent 85%)'"
               onmouseout="this.style.background='{{#if this.active}}color-mix(in srgb, var(--text-inverse) 25%, transparent 75%){{else}}transparent{{/if}}'">
                {{this.name}}
            </a>
            {{/each}}
        </div>
    </div>
</nav>

<style>
/* Mobile menu animations */
#mobile-menu {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

#mobile-menu.show {
    max-height: 500px;
}

/* Show mobile menu when toggled with "show" class */
@media (max-width: 767px) {
    #mobile-menu.show {
        display: block !important;
        max-height: 500px !important;
    }
}

@media (min-width: 768px) {
    #mobile-menu {
        display: none !important;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuBtn = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const desktopMenu = document.querySelector('.desktop-menu');
    const icon = document.getElementById('mobile-menu-icon');

    // Show mobile menu button on small screens
    function handleResize() {
        if (window.innerWidth <= 768) {
            mobileMenuBtn.style.display = 'block';
            desktopMenu.style.display = 'none';
            mobileMenu.style.display = 'none';
            mobileMenu.classList.remove('show');
            icon.className = 'fas fa-bars';
        } else {
            mobileMenuBtn.style.display = 'none';
            desktopMenu.style.display = 'flex';
            mobileMenu.style.display = 'none';
            mobileMenu.classList.remove('show');
        }
    }

    // Toggle mobile menu
    mobileMenuBtn?.addEventListener('click', function() {
        if (mobileMenu.classList.contains('show')) {
            mobileMenu.classList.remove('show');
            mobileMenu.style.display = 'none';
            icon.className = 'fas fa-bars';
        } else {
            mobileMenu.classList.add('show');
            mobileMenu.style.display = 'block';
            icon.className = 'fas fa-times';
        }
    });

    // Handle resize
    window.addEventListener('resize', handleResize);
    handleResize();
});
</script>